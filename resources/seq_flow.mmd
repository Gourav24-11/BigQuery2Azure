sequenceDiagram
    participant M as Main
    participant BQ as BigQuery
    participant AZ as Azure
    participant AP as API
    participant SC as Scheduler

    M->>BQ: extract_data(table, columns)
    BQ-->>M: data
    M->>AZ: load_data(data, table)
    M->>AP: get_table_list()
    AP-->>M: table_list
    M->>AP: get_column_list(table)
    AP-->>M: column_list
    M->>AP: transfer_data(table, columns, schedule)
    AP->>SC: schedule_transfer(table, columns, schedule)
